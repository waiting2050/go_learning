# ğŸ“˜ Redis å‘½ä»¤é€ŸæŸ¥è¡¨

---

## ğŸ”§ é€šç”¨å‘½ä»¤ï¼ˆé€‚ç”¨äºå¤šç§æ•°æ®ç±»å‹ï¼‰

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `KEYS pattern` | æŸ¥çœ‹ç¬¦åˆæ¨¡æ¿çš„æ‰€æœ‰ key<br>âš ï¸ ä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼Œå¯èƒ½é€ æˆæ€§èƒ½é—®é¢˜ |
| `DEL key` | åˆ é™¤ä¸€ä¸ªæŒ‡å®šçš„ key |
| `EXISTS key` | åˆ¤æ–­ key æ˜¯å¦å­˜åœ¨ |
| `EXPIRE key seconds` | è®¾ç½® key çš„æœ‰æ•ˆæœŸï¼Œåˆ°æœŸåè‡ªåŠ¨åˆ é™¤ |
| `TTL key` | æŸ¥çœ‹ key çš„å‰©ä½™æœ‰æ•ˆæœŸ |

---

## ğŸ§µ String ç±»å‹å‘½ä»¤

### ğŸ“Œ åŸºæœ¬æ“ä½œ
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `SET key value` | æ·»åŠ æˆ–ä¿®æ”¹ä¸€ä¸ªé”®å€¼å¯¹ |
| `GET key` | è·å–æŒ‡å®š key çš„å€¼ |

### ğŸ“¦ æ‰¹é‡æ“ä½œ
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `MSET key1 value1 key2 value2 ...` | æ‰¹é‡æ·»åŠ å¤šä¸ªé”®å€¼å¯¹ |
| `MGET key1 key2 ...` | æ‰¹é‡è·å–å¤šä¸ª key çš„å€¼ |

### ğŸ”¢ æ•°å€¼æ“ä½œ
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `INCR key` | æ•´å‹å€¼è‡ªå¢ 1 |
| `INCRBY key increment` | æ•´å‹å€¼æŒ‰æŒ‡å®šæ­¥é•¿è‡ªå¢ |
| `INCRBYFLOAT key increment` | æµ®ç‚¹å€¼æŒ‰æŒ‡å®šæ­¥é•¿è‡ªå¢ |

### â³ æ¡ä»¶ä¸è¿‡æœŸè®¾ç½®
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `SETNX key value` | ä»…å½“ key ä¸å­˜åœ¨æ—¶è®¾ç½®å€¼ |
| `SETEX key seconds value` | è®¾ç½®å€¼å¹¶æŒ‡å®šæœ‰æ•ˆæœŸ |

---

## ğŸ§© Hash ç±»å‹å‘½ä»¤

### ğŸ“Œ åŸºæœ¬æ“ä½œ
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `HSET key field value` | è®¾ç½®æˆ–æ›´æ–°æŸä¸ªå­—æ®µçš„å€¼ |
| `HGET key field` | è·å–æŸä¸ªå­—æ®µçš„å€¼ |

### ğŸ“¦ æ‰¹é‡æ“ä½œ
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `HMSET key field1 value1 field2 value2 ...` | æ‰¹é‡è®¾ç½®å¤šä¸ªå­—æ®µå€¼ |
| `HMGET key field1 field2 ...` | æ‰¹é‡è·å–å¤šä¸ªå­—æ®µå€¼ |

### ğŸ“‹ å…¨é‡è·å–
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `HGETALL key` | è·å–æ‰€æœ‰å­—æ®µåŠå¯¹åº”å€¼ |
| `HKEYS key` | è·å–æ‰€æœ‰å­—æ®µå |
| `HVALS key` | è·å–æ‰€æœ‰å­—æ®µå€¼ |

### ğŸ”¢ æ•°å€¼æ“ä½œ
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `HINCRBY key field increment` | æŒ‡å®šå­—æ®µå€¼è‡ªå¢ |

### â›” æ¡ä»¶æ·»åŠ 
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `HSETNX key field value` | ä»…å½“å­—æ®µä¸å­˜åœ¨æ—¶è®¾ç½®å€¼ |

---

## ğŸ“š List ç±»å‹å‘½ä»¤

### â• æ’å…¥å…ƒç´ 
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `LPUSH key element [element ...]` | ä»å·¦ä¾§æ’å…¥å…ƒç´  |
| `RPUSH key element [element ...]` | ä»å³ä¾§æ’å…¥å…ƒç´  |

### â– å¼¹å‡ºå…ƒç´ 
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `LPOP key` | ç§»é™¤å¹¶è¿”å›å·¦ä¾§ç¬¬ä¸€ä¸ªå…ƒç´  |
| `RPOP key` | ç§»é™¤å¹¶è¿”å›å³ä¾§ç¬¬ä¸€ä¸ªå…ƒç´  |

### ğŸ” èŒƒå›´æŸ¥è¯¢
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `LRANGE key start end` | è·å–æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ åˆ—è¡¨ |

### â±ï¸ é˜»å¡å¼¹å‡º
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `BLPOP key [key ...] timeout` | é˜»å¡å¼å·¦å¼¹å‡ºï¼Œç­‰å¾…å…ƒç´  |
| `BRPOP key [key ...] timeout` | é˜»å¡å¼å³å¼¹å‡ºï¼Œç­‰å¾…å…ƒç´  |

---

## ğŸ§® Set ç±»å‹å‘½ä»¤

Set æ˜¯ Redis ä¸­çš„æ— åºé›†åˆï¼Œè‡ªåŠ¨å»é‡ï¼Œé€‚åˆå­˜å‚¨ä¸é‡å¤çš„å…ƒç´ ã€‚

### ğŸ“Œ å¸¸ç”¨å‘½ä»¤
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `SADD key member [member ...]` | æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´  |
| `SREM key member [member ...]` | ç§»é™¤æŒ‡å®šå…ƒç´  |
| `SCARD key` | è·å–é›†åˆä¸­å…ƒç´ ä¸ªæ•° |
| `SISMEMBER key member` | åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ |
| `SMEMBERS key` | è·å–æ‰€æœ‰å…ƒç´  |

### ğŸ”— é›†åˆè¿ç®—å‘½ä»¤
| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `SINTER key1 key2 [key ...]` | æ±‚äº¤é›† |
| `SDIFF key1 key2 [key ...]` | æ±‚å·®é›† |
| `SUNION key1 key2 [key ...]` | æ±‚å¹¶é›† |

### ğŸ§ª ç¤ºä¾‹
```bash
SADD set1 a b c
SADD set2 b c d

SINTER set1 set2      # ç»“æœï¼šb c
SDIFF set1 set2       # ç»“æœï¼ša
SUNION set1 set2      # ç»“æœï¼ša b c d
```

## ğŸ¯ SortedSet ç±»å‹å‘½ä»¤

SortedSet æ˜¯ Redis ä¸­çš„æœ‰åºé›†åˆï¼Œæ¯ä¸ªå…ƒç´ å…³è”ä¸€ä¸ªæµ®ç‚¹å‹çš„ **score** å€¼ï¼ŒæŒ‰ score æ’åºã€‚é€‚åˆç”¨äºæ’è¡Œæ¦œã€ä¼˜å…ˆé˜Ÿåˆ—ç­‰åœºæ™¯ã€‚

> ğŸ’¡ æ³¨æ„ï¼šæ‰€æœ‰çš„æ’åé»˜è®¤éƒ½æ˜¯å‡åºï¼Œå¦‚æœè¦é™åºåˆ™åœ¨å‘½ä»¤çš„ `Z` åé¢æ·»åŠ  `REV` å³å¯ï¼Œä¾‹å¦‚ `ZREVRANGE`ã€‚

---

### ğŸ“Œ å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `ZADD key score member` | æ·»åŠ å…ƒç´ åŠå…¶ scoreï¼Œè‹¥å·²å­˜åœ¨åˆ™æ›´æ–° score |
| `ZREM key member` | åˆ é™¤æŒ‡å®šå…ƒç´  |
| `ZSCORE key member` | è·å–æŒ‡å®šå…ƒç´ çš„ score å€¼ |
| `ZRANK key member` | è·å–æŒ‡å®šå…ƒç´ çš„æ’åï¼ˆä»å°åˆ°å¤§ï¼‰ |
| `ZCARD key` | è·å–é›†åˆä¸­å…ƒç´ ä¸ªæ•° |
| `ZCOUNT key min max` | ç»Ÿè®¡ score åœ¨èŒƒå›´å†…çš„å…ƒç´ æ•°é‡ |
| `ZINCRBY key increment member` | å¢åŠ æŒ‡å®šå…ƒç´ çš„ score |
| `ZRANGE key start stop` | è·å–æŒ‡å®šæ’åèŒƒå›´å†…çš„å…ƒç´ ï¼ˆæŒ‰ score å‡åºï¼‰ |
| `ZRANGEBYSCORE key min max` | è·å–æŒ‡å®š score èŒƒå›´å†…çš„å…ƒç´  |

---

### ğŸ”— é›†åˆè¿ç®—å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `ZINTER numkeys key [key ...]` | æ±‚å¤šä¸ª SortedSet çš„äº¤é›† |
| `ZUNION numkeys key [key ...]` | æ±‚å¤šä¸ª SortedSet çš„å¹¶é›† |
| `ZDIFF numkeys key [key ...]` | æ±‚å¤šä¸ª SortedSet çš„å·®é›† |

---

### ğŸ§ª ç¤ºä¾‹

```bash
ZADD leaderboard 100 Alice
ZADD leaderboard 200 Bob
ZADD leaderboard 150 Charlie

ZRANK leaderboard Bob         # è¿”å› 2
ZSCORE leaderboard Charlie    # è¿”å› 150
ZINCRBY leaderboard 50 Alice  # Alice çš„åˆ†æ•°å˜ä¸º 150

ZRANGE leaderboard 0 -1       # è¿”å›æ‰€æœ‰æˆå‘˜ï¼ˆæŒ‰åˆ†æ•°å‡åºï¼‰
ZRANGEBYSCORE leaderboard 100 200  # è¿”å›åˆ†æ•°åœ¨ 100~200 ä¹‹é—´çš„æˆå‘˜
```