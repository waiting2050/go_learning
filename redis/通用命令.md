# Redis 命令速查表

---

## 通用命令（适用于多种数据类型）

| 命令 | 说明 |
|------|------|
| `KEYS pattern` | 查看符合模板的所有 key<br>⚠️ 不建议在生产环境使用，可能造成性能问题 |
| `DEL key` | 删除一个指定的 key |
| `EXISTS key` | 判断 key 是否存在 |
| `EXPIRE key seconds` | 设置 key 的有效期，到期后自动删除 |
| `TTL key` | 查看 key 的剩余有效期 |

---

## String 类型命令

### 基本操作
| 命令 | 说明 |
|------|------|
| `SET key value` | 添加或修改一个键值对 |
| `GET key` | 获取指定 key 的值 |

### 批量操作
| 命令 | 说明 |
|------|------|
| `MSET key1 value1 key2 value2 ...` | 批量添加多个键值对 |
| `MGET key1 key2 ...` | 批量获取多个 key 的值 |

### 数值操作
| 命令 | 说明 |
|------|------|
| `INCR key` | 整型值自增 1 |
| `INCRBY key increment` | 整型值按指定步长自增 |
| `INCRBYFLOAT key increment` | 浮点值按指定步长自增 |

### 条件与过期设置
| 命令 | 说明 |
|------|------|
| `SETNX key value` | 仅当 key 不存在时设置值 |
| `SETEX key seconds value` | 设置值并指定有效期 |

---

## Hash 类型命令

### 基本操作
| 命令 | 说明 |
|------|------|
| `HSET key field value` | 设置或更新某个字段的值 |
| `HGET key field` | 获取某个字段的值 |

### 批量操作
| 命令 | 说明 |
|------|------|
| `HMSET key field1 value1 field2 value2 ...` | 批量设置多个字段值 |
| `HMGET key field1 field2 ...` | 批量获取多个字段值 |

### 全量获取
| 命令 | 说明 |
|------|------|
| `HGETALL key` | 获取所有字段及对应值 |
| `HKEYS key` | 获取所有字段名 |
| `HVALS key` | 获取所有字段值 |

### 数值操作
| 命令 | 说明 |
|------|------|
| `HINCRBY key field increment` | 指定字段值自增 |

### 条件添加
| 命令 | 说明 |
|------|------|
| `HSETNX key field value` | 仅当字段不存在时设置值 |

---

## List 类型命令

### 插入元素
| 命令 | 说明 |
|------|------|
| `LPUSH key element [element ...]` | 从左侧插入元素 |
| `RPUSH key element [element ...]` | 从右侧插入元素 |

### 弹出元素
| 命令 | 说明 |
|------|------|
| `LPOP key` | 移除并返回左侧第一个元素 |
| `RPOP key` | 移除并返回右侧第一个元素 |

### 范围查询
| 命令 | 说明 |
|------|------|
| `LRANGE key start end` | 获取指定范围内的元素列表 |

### 阻塞弹出
| 命令 | 说明 |
|------|------|
| `BLPOP key [key ...] timeout` | 阻塞式左弹出，等待元素 |
| `BRPOP key [key ...] timeout` | 阻塞式右弹出，等待元素 |

---

## Set 类型命令

Set 是 Redis 中的无序集合，自动去重，适合存储不重复的元素。

### 常用命令
| 命令 | 说明 |
|------|------|
| `SADD key member [member ...]` | 添加一个或多个元素 |
| `SREM key member [member ...]` | 移除指定元素 |
| `SCARD key` | 获取集合中元素个数 |
| `SISMEMBER key member` | 判断元素是否存在 |
| `SMEMBERS key` | 获取所有元素 |

### 集合运算命令
| 命令 | 说明 |
|------|------|
| `SINTER key1 key2 [key ...]` | 求交集 |
| `SDIFF key1 key2 [key ...]` | 求差集 |
| `SUNION key1 key2 [key ...]` | 求并集 |

### 示例
```bash
SADD set1 a b c
SADD set2 b c d

SINTER set1 set2      # 结果：b c
SDIFF set1 set2       # 结果：a
SUNION set1 set2      # 结果：a b c d
```

## SortedSet 类型命令

SortedSet 是 Redis 中的有序集合，每个元素关联一个浮点型的 score 值，按 score 排序。适合用于排行榜、优先队列等场景。

> 注意：所有的排名默认都是升序，如果要降序则在命令的 `Z` 后面添加 `REV` 即可，例如 `ZREVRANGE`。

---

### 常用命令

| 命令 | 说明 |
|------|------|
| `ZADD key score member` | 添加元素及其 score，若已存在则更新 score |
| `ZREM key member` | 删除指定元素 |
| `ZSCORE key member` | 获取指定元素的 score 值 |
| `ZRANK key member` | 获取指定元素的排名（从小到大） |
| `ZCARD key` | 获取集合中元素个数 |
| `ZCOUNT key min max` | 统计 score 在范围内的元素数量 |
| `ZINCRBY key increment member` | 增加指定元素的 score |
| `ZRANGE key start stop` | 获取指定排名范围内的元素（按 score 升序） |
| `ZRANGEBYSCORE key min max` | 获取指定 score 范围内的元素 |

---

### 集合运算命令

| 命令 | 说明 |
|------|------|
| `ZINTER numkeys key [key ...]` | 求多个 SortedSet 的交集 |
| `ZUNION numkeys key [key ...]` | 求多个 SortedSet 的并集 |
| `ZDIFF numkeys key [key ...]` | 求多个 SortedSet 的差集 |

---

### 示例

```bash
ZADD leaderboard 100 Alice
ZADD leaderboard 200 Bob
ZADD leaderboard 150 Charlie

ZRANK leaderboard Bob         # 返回 2
ZSCORE leaderboard Charlie    # 返回 150
ZINCRBY leaderboard 50 Alice  # Alice 的分数变为 150

ZRANGE leaderboard 0 -1       # 返回所有成员（按分数升序）
ZRANGEBYSCORE leaderboard 100 200  # 返回分数在 100~200 之间的成员
```