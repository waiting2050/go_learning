# 2019春季独家销售产品SQL笔记
## 1. 需求
筛选仅在2019-01-01至2019-03-31（春季）销售的产品，排除春季外有销售记录的产品。


## 2. 两种核心解法
### 解法1：用MIN/MAX判断日期范围
#### 思路
按产品分组，确保该产品**所有销售日期**都在春季（最小日期≥1.1，最大日期≤3.31）。

#### 代码
```sql
SELECT p.product_id, p.product_name 
FROM Product p 
JOIN Sales s USING(product_id) 
GROUP BY p.product_id
HAVING MIN(s.sale_date) >= '2019-01-01' 
   AND MAX(s.sale_date) <= '2019-03-31';
```


### 解法2：用SUM计数排除非春季记录
#### 思路
按产品分组，统计“非春季销售记录数”，若为0则符合条件（无春季外销售）。

#### 代码
```sql
SELECT 
  p.product_id, p.product_name
FROM Product p 
JOIN Sales s ON p.product_id = s.product_id 
GROUP BY p.product_id 
HAVING SUM(IF(s.sale_date BETWEEN '2019-01-01' AND '2019-03-31', 0, 1)) = 0;
```


## 3. 关键逻辑对比
| 解法 | 核心判断                | 优势               |
|------|-------------------------|--------------------|
| 1    | MIN/MAX限定日期范围     | 直观，易理解       |
| 2    | SUM计数非春季记录=0     | 逻辑灵活，可改条件 |


## 4. 示例验证
- 产品1：销售日期仅2019-01-21 → 符合条件，保留
- 产品2：含2019-06-02（非春季）→ 排除
- 产品3：销售日期2019-05-13（非春季）→ 排除
- 最终输出：仅产品1